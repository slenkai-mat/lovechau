<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Love Animation</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="love">
    <h1>ANH Y√äU EM üíñ</h1>
    <h1>ML·ªôc üíï HCh√¢u</h1>  
    <div id="days-counter"></div>
    <div id="days-detail"></div>
    <canvas id="love-canvas"></canvas>
    <div id="love-text-rain"></div>
  </div>
  <script>
    // Days counter
    const startDate = new Date(2025, 1, 25); // 2025-02-25 (February 25, 2025)
    function updateDaysCounterAnimated() {
      const now = new Date();
      const diffTime = now - startDate;
      const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      let current = 1;
      const counter = document.getElementById('days-counter');
      counter.innerHTML = `Anh v√† em ƒë√£ y√™u nhau <b style="color:#ff6a88;">1</b> ng√†y r·ªìi! üíû`;
      const step = Math.max(10, Math.floor(diffDays / 60)); // t·ªëc ƒë·ªô ƒë·∫øm, c√†ng nh·ªè c√†ng nhanh
      const interval = setInterval(() => {
        current += step;
        if (current >= diffDays) {
          current = diffDays;
          clearInterval(interval);
        }
        counter.innerHTML = `Anh v√† em ƒë√£ y√™u nhau <b style="color:#ff6a88;">${current}</b> ng√†y r·ªìi! üíû`;
      }, 120); // ƒë·ªïi t·ª´ 20 th√†nh 50 ƒë·ªÉ ƒë·∫øm ch·∫≠m h∆°n
    }
    updateDaysCounterAnimated();
    setInterval(updateDaysCounterAnimated, 60 * 1000);

    function updateDaysDetail() {
      const now = new Date();
      const diffTime = now - startDate;
      const days = Math.floor(diffTime / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diffTime / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diffTime / (1000 * 60)) % 60);
      const seconds = Math.floor((diffTime / 1000) % 60);
      const detail = document.getElementById('days-detail');
      detail.innerHTML = `ƒê√£ y√™u nhau: <b style="color:#ff6a88;">${days}</b> ng√†y, <b style="color:#ff6a88;">${hours}</b> gi·ªù, <b style="color:#ff6a88;">${minutes}</b> ph√∫t, <b style="color:#ff6a88;">${seconds}</b> gi√¢y üíû`;
    }
    updateDaysDetail();
    setInterval(updateDaysDetail, 1000);

    // Heart animation
    const canvas = document.getElementById('love-canvas');
    const ctx = canvas.getContext('2d');
    let hearts = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function drawHeart(x, y, size, color, alpha) {
      ctx.save();
      ctx.globalAlpha = alpha;
      ctx.beginPath();
      ctx.moveTo(x, y + size / 4);
      ctx.bezierCurveTo(x, y, x - size / 2, y, x - size / 2, y + size / 4);
      ctx.bezierCurveTo(x - size / 2, y + size / 2, x, y + size, x, y + size * 1.2);
      ctx.bezierCurveTo(x, y + size, x + size / 2, y + size / 2, x + size / 2, y + size / 4);
      ctx.bezierCurveTo(x + size / 2, y, x, y, x, y + size / 4);
      ctx.closePath();
      ctx.fillStyle = color;
      ctx.shadowColor = color;
      ctx.shadowBlur = 15;
      ctx.fill();
      ctx.restore();
    }

    function randomColor() {
      const colors = ['#ff6a88', '#ff99ac', '#ffb6b9', '#fad0c4', '#fcb69f'];
      return colors[Math.floor(Math.random() * colors.length)];
    }

    function spawnHeart(x, y) {
      hearts.push({
        x: x,
        y: y,
        size: Math.random() * 18 + 18,
        alpha: 1,
        color: randomColor(),
        vx: (Math.random() - 0.5) * 1.5,
        vy: Math.random() * -2.5 - 1.5,
        decay: Math.random() * 0.008 + 0.008
      });
    }

    function burstHearts(x, y, n = 8) {
      for (let i = 0; i < n; i++) {
        spawnHeart(x + Math.random() * 30 - 15, y + Math.random() * 30 - 15);
      }
    }

    // Mouse/touch interaction
    canvas.addEventListener('mousemove', function(e) {
    // Ch·ªâ spawn heart m·ªói 2-3 l·∫ßn di chuy·ªÉn ƒë·ªÉ gi·∫£m s·ªë l∆∞·ª£ng
      if (Math.random() < 0.33) spawnHeart(e.clientX, e.clientY);
    });
    canvas.addEventListener('click', function(e) {
      burstHearts(e.clientX, e.clientY, 8); // gi·∫£m t·ª´ 12 xu·ªëng 6
    });
    canvas.addEventListener('touchmove', function(e) {
      for (let i = 0; i < e.touches.length; i++) {
        if (Math.random() < 0.33) spawnHeart(e.touches[i].clientX, e.touches[i].clientY);
      }
    }, {passive:true});
    canvas.addEventListener('touchstart', function(e) {
      for (let i = 0; i < e.touches.length; i++) {
        burstHearts(e.touches[i].clientX, e.touches[i].clientY, 12); // gi·∫£m t·ª´ 12 xu·ªëng 6
      }
    }, {passive:true});

    // Floating hearts from bottom
    setInterval(() => {
      spawnHeart(Math.random() * canvas.width, canvas.height - 10);
    }, 200);

    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let i = hearts.length - 1; i >= 0; i--) {
        let h = hearts[i];
        drawHeart(h.x, h.y, h.size, h.color, h.alpha);
        h.x += h.vx;
        h.y += h.vy;
        h.alpha -= h.decay;
        if (h.alpha <= 0) hearts.splice(i, 1);
      }
      requestAnimationFrame(animate);
    }
    animate();

    // Text rain effect
    const textLines = [
      "ANH Y√äU EM üíñ",
      "Em l√† c·ªßa anh, m√£i m√£i üíû",
      "Em l√† t√¨nh y√™u c·ªßa anh üíò",
      "Em l√† t·∫•t c·∫£ c·ªßa anh üíù",
      "Em l√† √°nh s√°ng c·ªßa cu·ªôc ƒë·ªùi anh üíó",
      "Em l√† ni·ªÅm h·∫°nh ph√∫c c·ªßa anh üíì",
      "CH√ÇU EM L√Ä H·∫†NH PH√öC C·ª¶A ANHüíï",
      "Em l√† l√Ω do anh c∆∞·ªùi m·ªói ng√†y üòä",
      "Em l√† gi·∫•c m∆° ƒë·∫πp nh·∫•t c·ªßa anh üåπ",
      "Em l√† ng∆∞·ªùi anh y√™u th∆∞∆°ng nh·∫•t üíï",
      "Em l√† b·∫ßu tr·ªùi c·ªßa anh üåà",
      "Em l√† ng√¥i sao s√°ng nh·∫•t trong cu·ªôc ƒë·ªùi anh üåü",
      "Em l√† l√Ω do anh s·ªëng m·ªói ng√†y üå∏",
      "Em l√† nh·ªãp ƒë·∫≠p c·ªßa tr√°i tim anh üíì",
      "Em l√† ng∆∞·ªùi anh mu·ªën √¥m tr·ªçn trong v√≤ng tay üíû",
      "Em l√† ng∆∞·ªùi anh mu·ªën b·∫£o v·ªá su·ªët ƒë·ªùi üíñ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau gi√† ƒëi üíë",
      "Em l√† ng∆∞·ªùi anh mu·ªën b√™n c·∫°nh m√£i m√£i üíû",
      "Em l√† t√¨nh y√™u ƒë√≠ch th·ª±c c·ªßa anh üíñ",
      "Em l√† l√Ω do anh tin v√†o t√¨nh y√™u üíò",
      "Em l√† ng∆∞·ªùi anh mu·ªën chia s·∫ª cu·ªôc s·ªëng n√†y üíë",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng ƒëi h·∫øt cu·ªôc ƒë·ªùi n√†y üíç",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau x√¢y d·ª±ng gia ƒë√¨nh üíï",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau v∆∞·ª£t qua m·ªçi th·ª≠ th√°ch üí™",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau kh√°m ph√° th·∫ø gi·ªõi üåç",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám ƒë·∫πp üíû",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau vi·∫øt n√™n c√¢u chuy·ªán t√¨nh y√™u c·ªßa ch√∫ng ta üìñ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau s·ªëng h·∫øt m√¨nh v·ªõi ƒëam m√™ üíñ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau t·∫≠n h∆∞·ªüng t·ª´ng kho·∫£nh kh·∫Øc üíï",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau c∆∞·ªùi ƒë√πa m·ªói ng√†y üòÇ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau v∆∞·ª£t qua m·ªçi kh√≥ khƒÉn üí™",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau chia s·∫ª ni·ªÅm vui v√† n·ªói bu·ªìn üíû",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau ƒëi du l·ªãch kh·∫Øp n∆°i üåç",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau th∆∞·ªüng th·ª©c nh·ªØng m√≥n ƒÉn ngon üçΩÔ∏è",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau xem nh·ªØng b·ªô phim hay üé¨",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau nghe nh·ªØng b·∫£n nh·∫°c y√™u th√≠ch üé∂",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau ƒë·ªçc nh·ªØng cu·ªën s√°ch hay üìö",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau h·ªçc h·ªèi v√† ph√°t tri·ªÉn b·∫£n th√¢n üìñ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau kh√°m ph√° nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª üåü",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau tr·∫£i nghi·ªám nh·ªØng ƒëi·ªÅu th√∫ v·ªã üíñ",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau s·ªëng h·∫øt m√¨nh v·ªõi ƒëam m√™ üíï",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau t·∫°o n√™n nh·ªØng k·ª∑ ni·ªám ƒë√°ng nh·ªõ üíû",
      "Em l√† ng∆∞·ªùi anh mu·ªën c√πng nhau x√¢y d·ª±ng m·ªôt t∆∞∆°ng lai t∆∞∆°i s√°ng üíñ",
      "M√£i Y√™u B√ôI HO√ÄNG CH√ÇU üíñ",
    ];
    const textRainContainer = document.getElementById('love-text-rain');

    function createTextRain() {
      if (textRainContainer.childElementCount > 30) return; // Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng text
      const text = document.createElement('div');
      text.className = 'rain-text';
      const content = textLines[Math.floor(Math.random() * textLines.length)];
      text.innerText = content;

      // T√≠nh to√°n chi·ªÅu r·ªông ch·ªØ ƒë·ªÉ kh√¥ng b·ªã tr√†n
      let vw = window.innerWidth;
      let leftPercent = Math.random() * 70 + 5; // 5vw ƒë·∫øn 75vw
      if (vw < 600) leftPercent = Math.random() * 60 + 10; // 10vw ƒë·∫øn 70vw cho mobile

      text.style.left = leftPercent + 'vw';
      text.style.fontSize = (Math.random() * 0.7 + 1) + 'rem';
      // TƒÉng th·ªùi gian animation ƒë·ªÉ ch·ªØ r∆°i ch·∫≠m h∆°n
      text.style.animationDuration = (Math.random() * 2 + 4) + 's'; // 4s ƒë·∫øn 6s

      // C√°c c√¢u c·∫ßn l√†m ƒë·ªè
      const redLines = [
        "ANH Y√äU EM üíñ",
        "CH√ÇU EM L√Ä H·∫†NH PH√öC C·ª¶A ANHüíï",
        "M√£i Y√™u B√ôI HO√ÄNG CH√ÇU üíñ"
      ];
      if (redLines.includes(content)) {
        text.style.color = "#ff2222";
        text.style.textShadow = "0 0 20px #ff2222, 0 0 40px #ff2222";
        text.style.fontWeight = "bold";
      }

      textRainContainer.appendChild(text);
      setTimeout(() => text.remove(), 6500); // tƒÉng th·ªùi gian t·ªìn t·∫°i ƒë·ªÉ ph√π h·ª£p animation
    }
    setInterval(() => {
      for (let i = 0; i < 1; i++) createTextRain();
    }, 350); // tƒÉng kho·∫£ng c√°ch gi·ªØa c√°c l·∫ßn r∆°i
  </script>
  <button id="next-page-btn">L·ªùi nh·∫Øn</button>
  <script>
    const btn = document.getElementById('next-page-btn');
    btn.onmouseover = function() {
      btn.style.background = '#ff99ac';
      btn.style.transform = 'scale(1.08)';
      btn.style.boxShadow = '0 8px 24px #ff6a8899';
    };
    btn.onmouseout = function() {
      btn.style.background = '#ff6a88';
      btn.style.transform = 'scale(1)';
      btn.style.boxShadow = '0 4px 16px #ff6a8855';
    };
    btn.onclick = function() {
      btn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        window.location.href = "truk.html";
      }, 150);
    };
  </script>
    };
  </script>
</body>
</html>